!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.jFactory=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}var n=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),r=e(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),o=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},i=o,u=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=f,c=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t},a=function(t){try{return!!t()}catch(t){return!0}},l=!a(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),p=f,h=n.document,y=p(h)&&p(h.createElement),d=function(t){return y?h.createElement(t):{}},v=!l&&!a(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),b=f,g=function(t,e){if(!b(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!b(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!b(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!b(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_=c,m=v,O=g,j=Object.defineProperty,w=l?Object.defineProperty:function(t,e,n){if(_(t),e=O(e,!0),_(n),m)try{return j(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},E={f:w},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=E,T=S,P=l?function(t,e,n){return k.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},A=n,x=r,M=u,N=P,F="prototype",C=function(t,e,n){var r,o,i,u=t&C.F,f=t&C.G,s=t&C.S,c=t&C.P,a=t&C.B,l=t&C.W,p=f?x:x[e]||(x[e]={}),h=p[F],y=f?A:s?A[e]:(A[e]||{})[F];f&&(n=e);for(r in n)o=!u&&y&&void 0!==y[r],o&&r in p||(i=o?y[r]:n[r],p[r]=f&&"function"!=typeof y[r]?n[r]:a&&o?M(i,A):l&&y[r]==i?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[F]=t[F],e}(i):c&&"function"==typeof i?M(Function.call,i):i,c&&((p.virtual||(p.virtual={}))[r]=i,t&C.R&&h&&!h[r]&&N(h,r,i)))};C.F=1,C.G=2,C.S=4,C.P=8,C.B=16,C.W=32,C.U=64,C.R=128;var I=C,J={}.hasOwnProperty,L=function(t,e){return J.call(t,e)},D={}.toString,R=function(t){return D.call(t).slice(8,-1)},B=R,V=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==B(t)?t.split(""):Object(t)},W=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},H=V,G=W,K=function(t){return H(G(t))},U=Math.ceil,z=Math.floor,Y=function(t){return isNaN(t=+t)?0:(t>0?z:U)(t)},q=Y,Q=Math.min,X=function(t){return t>0?Q(q(t),9007199254740991):0},Z=Y,$=Math.max,tt=Math.min,et=function(t,e){return t=Z(t),t<0?$(t+e,0):tt(t,e)},nt=K,rt=X,ot=et,it=function(t){return function(e,n,r){var o,i=nt(e),u=rt(i.length),f=ot(r,u);if(t&&n!=n){for(;u>f;)if(o=i[f++],o!=o)return!0}else for(;u>f;f++)if((t||f in i)&&i[f]===n)return t||f||0;return!t&&-1}},ut=n,ft="__core-js_shared__",st=ut[ft]||(ut[ft]={}),ct=function(t){return st[t]||(st[t]={})},at=0,lt=Math.random(),pt=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++at+lt).toString(36))},ht=ct("keys"),yt=pt,dt=function(t){return ht[t]||(ht[t]=yt(t))},vt=L,bt=K,gt=it(!1),_t=dt("IE_PROTO"),mt=function(t,e){var n,r=bt(t),o=0,i=[];for(n in r)n!=_t&&vt(r,n)&&i.push(n);for(;e.length>o;)vt(r,n=e[o++])&&(~gt(i,n)||i.push(n));return i},Ot="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),jt=mt,wt=Ot,Et=Object.keys||function(t){return jt(t,wt)},St=Object.getOwnPropertySymbols,kt={f:St},Tt={}.propertyIsEnumerable,Pt={f:Tt},At=W,xt=function(t){return Object(At(t))},Mt=Et,Nt=kt,Ft=Pt,Ct=xt,It=V,Jt=Object.assign,Lt=!Jt||a(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Jt({},t)[n]||Object.keys(Jt({},e)).join("")!=r})?function(t,e){for(var n=Ct(t),r=arguments.length,o=1,i=Nt.f,u=Ft.f;r>o;)for(var f,s=It(arguments[o++]),c=i?Mt(s).concat(i(s)):Mt(s),a=c.length,l=0;a>l;)u.call(s,f=c[l++])&&(n[f]=s[f]);return n}:Jt,Dt=I;Dt(Dt.S+Dt.F,"Object",{assign:Lt});var Rt=r.Object.assign,Bt=e(function(t){t.exports={default:Rt,__esModule:!0}}),Vt=I;Vt(Vt.S+Vt.F*!l,"Object",{defineProperty:E.f});var Wt=r.Object,Ht=function(t,e,n){return Wt.defineProperty(t,e,n)},Gt=e(function(t){t.exports={default:Ht,__esModule:!0}}),Kt=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=Gt,o=n(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}),Ut=Y,zt=W,Yt=function(t){return function(e,n){var r,o,i=String(zt(e)),u=Ut(n),f=i.length;return u<0||u>=f?t?"":void 0:(r=i.charCodeAt(u),r<55296||r>56319||u+1===f||(o=i.charCodeAt(u+1))<56320||o>57343?t?i.charAt(u):r:t?i.slice(u,u+2):(r-55296<<10)+(o-56320)+65536)}},qt=!0,Qt=P,Xt={},Zt=E,$t=c,te=Et,ee=l?Object.defineProperties:function(t,e){$t(t);for(var n,r=te(e),o=r.length,i=0;o>i;)Zt.f(t,n=r[i++],e[n]);return t},ne=n.document&&document.documentElement,re=c,oe=ee,ie=Ot,ue=dt("IE_PROTO"),fe=function(){},se="prototype",ce=function(){var t,e=d("iframe"),n=ie.length,r="<",o=">";for(e.style.display="none",ne.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),ce=t.F;n--;)delete ce[se][ie[n]];return ce()},ae=Object.create||function(t,e){var n;return null!==t?(fe[se]=re(t),n=new fe,fe[se]=null,n[ue]=t):n=ce(),void 0===e?n:oe(n,e)},le=e(function(t){var e=ct("wks"),r=pt,o=n.Symbol,i="function"==typeof o,u=t.exports=function(t){return e[t]||(e[t]=i&&o[t]||(i?o:r)("Symbol."+t))};u.store=e}),pe=E.f,he=L,ye=le("toStringTag"),de=function(t,e,n){t&&!he(t=n?t:t.prototype,ye)&&pe(t,ye,{configurable:!0,value:e})},ve=ae,be=S,ge=de,_e={};P(_e,le("iterator"),function(){return this});var me=function(t,e,n){t.prototype=ve(_e,{next:be(1,n)}),ge(t,e+" Iterator")},Oe=L,je=xt,we=dt("IE_PROTO"),Ee=Object.prototype,Se=Object.getPrototypeOf||function(t){return t=je(t),Oe(t,we)?t[we]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ee:null},ke=qt,Te=I,Pe=Qt,Ae=P,xe=L,Me=Xt,Ne=me,Fe=de,Ce=Se,Ie=le("iterator"),Je=!([].keys&&"next"in[].keys()),Le="@@iterator",De="keys",Re="values",Be=function(){return this},Ve=function(t,e,n,r,o,i,u){Ne(n,e,r);var f,s,c,a=function(t){if(!Je&&t in y)return y[t];switch(t){case De:return function(){return new n(this,t)};case Re:return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",p=o==Re,h=!1,y=t.prototype,d=y[Ie]||y[Le]||o&&y[o],v=d||a(o),b=o?p?a("entries"):v:void 0,g="Array"==e?y.entries||d:d;if(g&&(c=Ce(g.call(new t)),c!==Object.prototype&&(Fe(c,l,!0),ke||xe(c,Ie)||Ae(c,Ie,Be))),p&&d&&d.name!==Re&&(h=!0,v=function(){return d.call(this)}),ke&&!u||!Je&&!h&&y[Ie]||Ae(y,Ie,v),Me[e]=v,Me[l]=Be,o)if(f={values:p?v:a(Re),keys:i?v:a(De),entries:b},u)for(s in f)s in y||Pe(y,s,f[s]);else Te(Te.P+Te.F*(Je||h),e,f);return f},We=Yt(!0);Ve(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=We(e,n),this._i+=t.length,{value:t,done:!1})});var He=function(){},Ge=function(t,e){return{value:e,done:!!t}},Ke=He,Ue=Ge,ze=Xt,Ye=K;Ve(Array,"Array",function(t,e){this._t=Ye(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ue(1)):"keys"==e?Ue(0,n):"values"==e?Ue(0,t[n]):Ue(0,[n,t[n]])},"values");ze.Arguments=ze.Array,Ke("keys"),Ke("values"),Ke("entries");for(var qe=n,Qe=P,Xe=Xt,Ze=le("toStringTag"),$e=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],tn=0;tn<5;tn++){var en=$e[tn],nn=qe[en],rn=nn&&nn.prototype;rn&&!rn[Ze]&&Qe(rn,Ze,en),Xe[en]=Xe.Array}var on=le,un={f:on},fn=un.f("iterator"),sn=e(function(t){t.exports={default:fn,__esModule:!0}}),cn=e(function(t){var e=pt("meta"),n=f,r=L,o=E.f,i=0,u=Object.isExtensible||function(){return!0},s=!a(function(){return u(Object.preventExtensions({}))}),c=function(t){o(t,e,{value:{i:"O"+ ++i,w:{}}})},l=function(t,o){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,e)){if(!u(t))return"F";if(!o)return"E";c(t)}return t[e].i},p=function(t,n){if(!r(t,e)){if(!u(t))return!0;if(!n)return!1;c(t)}return t[e].w},h=function(t){return s&&y.NEED&&u(t)&&!r(t,e)&&c(t),t},y=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:p,onFreeze:h}}),an=n,ln=r,pn=qt,hn=un,yn=E.f,dn=function(t){var e=ln.Symbol||(ln.Symbol=pn?{}:an.Symbol||{});"_"==t.charAt(0)||t in e||yn(e,t,{value:hn.f(t)})},vn=Et,bn=K,gn=function(t,e){for(var n,r=bn(t),o=vn(r),i=o.length,u=0;i>u;)if(r[n=o[u++]]===e)return n},_n=Et,mn=kt,On=Pt,jn=function(t){var e=_n(t),n=mn.f;if(n)for(var r,o=n(t),i=On.f,u=0;o.length>u;)i.call(t,r=o[u++])&&e.push(r);return e},wn=R,En=Array.isArray||function(t){return"Array"==wn(t)},Sn=mt,kn=Ot.concat("length","prototype"),Tn=Object.getOwnPropertyNames||function(t){return Sn(t,kn)},Pn={f:Tn},An=K,xn=Pn.f,Mn={}.toString,Nn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fn=function(t){try{return xn(t)}catch(t){return Nn.slice()}},Cn=function(t){return Nn&&"[object Window]"==Mn.call(t)?Fn(t):xn(An(t))},In={f:Cn},Jn=Pt,Ln=S,Dn=K,Rn=g,Bn=L,Vn=v,Wn=Object.getOwnPropertyDescriptor,Hn=l?Wn:function(t,e){if(t=Dn(t),e=Rn(e,!0),Vn)try{return Wn(t,e)}catch(t){}if(Bn(t,e))return Ln(!Jn.f.call(t,e),t[e])},Gn={f:Hn},Kn=n,Un=L,zn=l,Yn=I,qn=Qt,Qn=cn.KEY,Xn=a,Zn=ct,$n=de,tr=pt,er=le,nr=un,rr=dn,or=gn,ir=jn,ur=En,fr=c,sr=K,cr=g,ar=S,lr=ae,pr=In,hr=Gn,yr=E,dr=Et,vr=hr.f,br=yr.f,gr=pr.f,_r=Kn.Symbol,mr=Kn.JSON,Or=mr&&mr.stringify,jr="prototype",wr=er("_hidden"),Er=er("toPrimitive"),Sr={}.propertyIsEnumerable,kr=Zn("symbol-registry"),Tr=Zn("symbols"),Pr=Zn("op-symbols"),Ar=Object[jr],xr="function"==typeof _r,Mr=Kn.QObject,Nr=!Mr||!Mr[jr]||!Mr[jr].findChild,Fr=zn&&Xn(function(){return 7!=lr(br({},"a",{get:function(){return br(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=vr(Ar,e);r&&delete Ar[e],br(t,e,n),r&&t!==Ar&&br(Ar,e,r)}:br,Cr=function(t){var e=Tr[t]=lr(_r[jr]);return e._k=t,e},Ir=xr&&"symbol"==typeof _r.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof _r},Jr=function(t,e,n){return t===Ar&&Jr(Pr,e,n),fr(t),e=cr(e,!0),fr(n),Un(Tr,e)?(n.enumerable?(Un(t,wr)&&t[wr][e]&&(t[wr][e]=!1),n=lr(n,{enumerable:ar(0,!1)})):(Un(t,wr)||br(t,wr,ar(1,{})),t[wr][e]=!0),Fr(t,e,n)):br(t,e,n)},Lr=function(t,e){fr(t);for(var n,r=ir(e=sr(e)),o=0,i=r.length;i>o;)Jr(t,n=r[o++],e[n]);return t},Dr=function(t,e){return void 0===e?lr(t):Lr(lr(t),e)},Rr=function(t){var e=Sr.call(this,t=cr(t,!0));return!(this===Ar&&Un(Tr,t)&&!Un(Pr,t))&&(!(e||!Un(this,t)||!Un(Tr,t)||Un(this,wr)&&this[wr][t])||e)},Br=function(t,e){if(t=sr(t),e=cr(e,!0),t!==Ar||!Un(Tr,e)||Un(Pr,e)){var n=vr(t,e);return!n||!Un(Tr,e)||Un(t,wr)&&t[wr][e]||(n.enumerable=!0),n}},Vr=function(t){for(var e,n=gr(sr(t)),r=[],o=0;n.length>o;)Un(Tr,e=n[o++])||e==wr||e==Qn||r.push(e);return r},Wr=function(t){for(var e,n=t===Ar,r=gr(n?Pr:sr(t)),o=[],i=0;r.length>i;)!Un(Tr,e=r[i++])||n&&!Un(Ar,e)||o.push(Tr[e]);return o};xr||(_r=function(){if(this instanceof _r)throw TypeError("Symbol is not a constructor!");var t=tr(arguments.length>0?arguments[0]:void 0),e=function(n){this===Ar&&e.call(Pr,n),Un(this,wr)&&Un(this[wr],t)&&(this[wr][t]=!1),Fr(this,t,ar(1,n))};return zn&&Nr&&Fr(Ar,t,{configurable:!0,set:e}),Cr(t)},qn(_r[jr],"toString",function(){return this._k}),hr.f=Br,yr.f=Jr,Pn.f=pr.f=Vr,Pt.f=Rr,kt.f=Wr,zn&&!qt&&qn(Ar,"propertyIsEnumerable",Rr,!0),nr.f=function(t){return Cr(er(t))}),Yn(Yn.G+Yn.W+Yn.F*!xr,{Symbol:_r});for(var Hr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Gr=0;Hr.length>Gr;)er(Hr[Gr++]);for(var Hr=dr(er.store),Gr=0;Hr.length>Gr;)rr(Hr[Gr++]);Yn(Yn.S+Yn.F*!xr,"Symbol",{for:function(t){return Un(kr,t+="")?kr[t]:kr[t]=_r(t)},keyFor:function(t){if(Ir(t))return or(kr,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Nr=!0},useSimple:function(){Nr=!1}}),Yn(Yn.S+Yn.F*!xr,"Object",{create:Dr,defineProperty:Jr,defineProperties:Lr,getOwnPropertyDescriptor:Br,getOwnPropertyNames:Vr,getOwnPropertySymbols:Wr}),mr&&Yn(Yn.S+Yn.F*(!xr||Xn(function(){var t=_r();return"[null]"!=Or([t])||"{}"!=Or({a:t})||"{}"!=Or(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Ir(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&ur(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Ir(e))return e}),r[1]=e,Or.apply(mr,r)}}}),_r[jr][Er]||P(_r[jr],Er,_r[jr].valueOf),$n(_r,"Symbol"),$n(Math,"Math",!0),$n(Kn.JSON,"JSON",!0),dn("asyncIterator"),dn("observable");var Kr=r.Symbol,Ur=e(function(t){t.exports={default:Kr,__esModule:!0}}),zr=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=sn,o=n(r),i=Ur,u=n(i),f="function"==typeof u.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":typeof t};e.default="function"==typeof u.default&&"symbol"===f(o.default)?function(t){return"undefined"==typeof t?"undefined":f(t)}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":"undefined"==typeof t?"undefined":f(t)}}),Yr=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=zr,o=n(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}}),qr=f,Qr=c,Xr=function(t,e){if(Qr(t),!qr(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Zr={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=u(Function.call,Gn.f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return Xr(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:Xr},$r=I;$r($r.S,"Object",{setPrototypeOf:Zr.set});var to=r.Object.setPrototypeOf,eo=e(function(t){t.exports={default:to,__esModule:!0}}),no=I;no(no.S,"Object",{create:ae});var ro=r.Object,oo=function(t,e){return ro.create(t,e)},io=e(function(t){t.exports={default:oo,__esModule:!0}}),uo=e(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=eo,o=n(r),i=io,u=n(i),f=zr,s=n(f);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,s.default)(e)));t.prototype=(0,u.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}}),fo=I,so=r,co=a,ao=function(t,e){var n=(so.Object||{})[t]||Object[t],r={};r[t]=e(n),fo(fo.S+fo.F*co(function(){n(1)}),"Object",r)},lo=xt,po=Et;ao("keys",function(){return function(t){return po(lo(t))}});var ho=r.Object.keys,yo=e(function(t){t.exports={default:ho,__esModule:!0}}),vo=e(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}),bo=e(function(t){function e(t){return t&&t.__esModule?t:{default:t}}var n=Bt,r=e(n),o=Kt,i=e(o),u=Yr,f=e(u),s=uo,c=e(s),a=yo,l=e(a),p=vo,h=e(p),y=function(){function t(){(0,h.default)(this,t),this._events={}}return t.prototype.on=function(t,e){var n=this._events[t]||(this._events[t]=[]);return n.push(e),this},t.prototype.off=function(t,e){var n=this;if("string"==typeof t&&this._events[t])if(e){var r=this._events[t];r.indexOf(e)!==-1&&r.splice(r.indexOf(e),1)}else this._events[t]=null;else"function"==typeof t&&(e=t,(0,l.default)(this._events).forEach(function(t){var r=n._events[t];r.indexOf(e)!==-1&&r.splice(r.indexOf(e),1)}));return this},t.prototype.trigger=function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this._events[t];return i&&i.forEach(function(t){return t.apply(e,r)}),this},t.prototype.destroy=function(){delete this._events},t}(),d=function(t){function e(n,r,o,i){(0,h.default)(this,e);var u=(0,f.default)(this,t.call(this));return u.name=n,u.data=o,u.config=r,u.history=[],setTimeout(function(){u.next()},0),u}return(0,c.default)(e,t),e.prototype.update=function(t){var e=this.data;"undefined"!=typeof t&&t!==e&&(this.data=t,this.trigger(this.constructor.EVENTS.DATA_UPDATE,e,t))},e.prototype.getJob=function(t){var e;if("number"==typeof t?e=t:"string"==typeof t?e=this.config.findIndex(function(e){return e===t||e.name===t}):"function"==typeof t&&(e=this.config.findIndex(function(e){return t(e)})),e>=0)return{config:this.config[e],index:e}},e.prototype.go=function(t,e){if(void 0!==t){var n=this.getJob(t),o=n.index;if(n=n.config,!n)throw new Error("get job error: on "+t+"; no this target");var i,u;if("function"==typeof n)u=n;else{if("function"!=typeof n.main)throw new Error("get job error: on "+t+"; job or job.main must is function");u=n.main}i=(0,r.default)({notHistory:!1},n.options,e),this.trigger(this.constructor.EVENTS.JOB_BEFORE_ACTION,this.data),i.notHistory||(this.history.splice(this.history.step,this.history.length-this.history.step,o),this.history.step=this.history.length),this.step=o;var f=u(this.data,this);this.trigger(this.constructor.EVENTS.JOB_ACTION,this.data),"function"==typeof f?f(this):this.next(f)}},e.prototype.next=function(t){t&&this.update(t);var e;if(void 0===this.step)e=0;else{if(this.step>=this.config.length-1)return this.complete(),!1;e=this.step+1}this.go(e)},e.prototype.previous=function(t){t&&this.update(t);var e;e=void 0===this.step?0:this.step-1,this.go(e)},e.prototype.back=function(t){t&&this.update(t);var e;this.history.length&&this.history.step>0&&(this.history.step--,e=this.history[this.history.step-1],this.go(e,{notHistory:!0}))},e.prototype.forward=function(t){t&&this.update(t);var e;this.history.length&&this.history.step<this.history.length&&(this.history.step++,e=this.history[this.history.step+1],this.go(e,{notHistory:!0}))},e.prototype.cancel=function(t){t&&this.update(t),this.trigger(this.constructor.EVENTS.CANCEL,this.data),this.destroy()},e.prototype.complete=function(t){t&&this.update(t),this.trigger(this.constructor.EVENTS.COMPLETE,this.data),this.destroy()},e.prototype.destroy=function(){"function"==typeof this.constructor.destroy&&this.constructor.destroy(),delete this.options,delete this.data,delete this.config,delete this.history},(0,i.default)(e,null,[{key:"EVENTS",get:function(){return{COMPLETE:"complete",CANCEL:"cancel",JOB_BEFORE_ACTION:"beforeActive",JOB_ACTION:"active",DATA_UPDATE:"update"}}}]),e}(y),v=function(){function t(e){(0,h.default)(this,t),this.reset(e)}return t.prototype.reset=function(t){t=(0,r.default)({},t),this._tasks=(0,r.default)({},t.tasks),this._jobs=(0,r.default)({},t.jobs)},t.prototype.add=function(t){(0,r.default)(this._tasks,t.tasks),(0,r.default)(this._jobs,t.jobs)},t.prototype.addJobs=function(t){this.add({jobs:t})},t.prototype.addTasks=function(t){this.add({tasks:t})},t.prototype.createTaskArray=function(t){var e=this;return t.map(function(t){if("string"==typeof t&&e._jobs[t])return{name:t,main:e._jobs[t]};if("function"==typeof t)return t;if(t.main){if("string"==typeof t.main&&e._jobs[t.main])return(0,r.default)({},t,{main:e._jobs[t.main]});if("function"==typeof t.main)return(0,r.default)({},t)}}).filter(function(t){return t})},t.prototype.createTask=function(t,e){var n,r,o;if(!t)throw new Error("taskName is necessary");if("string"==typeof t&&this._tasks[t])n=t,r=this._tasks[t];else if("string"==typeof t.main&&this._tasks[t.main])n=t.main,r=this._tasks[t],o=t.options;else if(Array.isArray(t))r=t;else{if(!Array.isArray(t.main))throw new Error(t.toString()+" is not set");r=t.main,o=t.options}return r=this.createTaskArray(r),new d(n,r,e,o)},t}();t.exports=v}),go=t(bo);return go});